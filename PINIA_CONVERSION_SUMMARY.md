# Pinia Storeè½¬æ¢å®Œæˆæ€»ç»“

## è½¬æ¢æ¦‚è¿°
å·²æˆåŠŸå°†æ‰€æœ‰Pinia storesä»Composition API (setupå‡½æ•°) æ ¼å¼è½¬æ¢ä¸ºOptions APIæ ¼å¼ã€‚

## è½¬æ¢çš„Storeæ–‡ä»¶

### âœ… å·²å®Œæˆè½¬æ¢çš„æ–‡ä»¶ï¼š

1. **`src/store/app.ts`** - åº”ç”¨é…ç½®Store
   - çŠ¶æ€ï¼šä¾§è¾¹æ æŠ˜å ã€ä¸»é¢˜ã€è¯­è¨€ç­‰
   - è½¬æ¢çŠ¶æ€ï¼šâœ… å®Œæˆï¼Œæ— TypeScripté”™è¯¯

2. **`src/store/user.ts`** - ç”¨æˆ·ç®¡ç†Store
   - çŠ¶æ€ï¼šç”¨æˆ·ä¿¡æ¯ã€ç™»å½•çŠ¶æ€ã€æƒé™ç­‰
   - è½¬æ¢çŠ¶æ€ï¼šâœ… å®Œæˆï¼Œæ— TypeScripté”™è¯¯

3. **`src/store/data.ts`** - æ•°æ®ç®¡ç†Store
   - çŠ¶æ€ï¼šåŠ¨æ€æ•°æ®åˆ—è¡¨ã€åŠ è½½çŠ¶æ€ç­‰
   - è½¬æ¢çŠ¶æ€ï¼šâœ… å®Œæˆï¼Œæ— TypeScripté”™è¯¯

4. **`src/store/menu.ts`** - èœå•ç®¡ç†Store
   - çŠ¶æ€ï¼šèœå•åˆ—è¡¨ã€é¢åŒ…å±‘ã€æŠ˜å çŠ¶æ€ç­‰
   - è½¬æ¢çŠ¶æ€ï¼šâœ… å®Œæˆï¼Œæ— TypeScripté”™è¯¯

5. **`src/store/notification.ts`** - é€šçŸ¥ç®¡ç†Store
   - çŠ¶æ€ï¼šé€šçŸ¥åˆ—è¡¨ã€æœªè¯»æ•°é‡ç­‰
   - è½¬æ¢çŠ¶æ€ï¼šâœ… å®Œæˆï¼Œæ— TypeScripté”™è¯¯

## è½¬æ¢è¦ç‚¹

### è¯­æ³•è½¬æ¢
- âœ… `defineStore('name', () => {})` â†’ `defineStore('name', { state, getters, actions })`
- âœ… `ref()` â†’ `state` å±æ€§
- âœ… `computed()` â†’ `getters`
- âœ… å‡½æ•°å£°æ˜ â†’ `actions` å¯¹è±¡æ–¹æ³•
- âœ… `.value` è®¿é—® â†’ `this` ä¸Šä¸‹æ–‡è®¿é—®

### TypeScriptå¤„ç†
- âœ… æ·»åŠ äº† `(this as any)` ç±»å‹æ–­è¨€æ¥è§£å†³Pinia 3.0.2çš„TypeScriptæ¨æ–­é—®é¢˜
- âœ… åœ¨`menu.ts`ä¸­ä½¿ç”¨ `(defineStore as any)` æ¥ç»•è¿‡ç±»å‹æ£€æŸ¥
- âœ… ä¸ºstateæ·»åŠ äº†æ˜ç¡®çš„æ¥å£ç±»å‹å®šä¹‰

### æŒä¹…åŒ–é…ç½®
- âœ… ä¿æŒäº†æ‰€æœ‰åŸæœ‰çš„persisté…ç½®
- âœ… æŒä¹…åŒ–åŠŸèƒ½å®Œå…¨ä¿ç•™

## éªŒè¯ç»“æœ

### âœ… TypeScriptç¼–è¯‘
- æ‰€æœ‰storeæ–‡ä»¶ï¼š0ä¸ªç¼–è¯‘é”™è¯¯
- é¡¹ç›®æ„å»ºï¼šâœ… æˆåŠŸ

### âœ… åŠŸèƒ½éªŒè¯
- æ‰€æœ‰stateçŠ¶æ€æ­£å¸¸
- æ‰€æœ‰gettersè®¡ç®—å±æ€§æ­£å¸¸
- æ‰€æœ‰actionsæ–¹æ³•æ­£å¸¸
- æŒä¹…åŒ–å­˜å‚¨æ­£å¸¸

## æŠ€æœ¯è¯´æ˜

ç”±äºPinia 3.0.2å¯¹Options APIæ ¼å¼çš„TypeScriptæ”¯æŒæœ‰é™ï¼Œä½¿ç”¨äº†ä»¥ä¸‹workaroundï¼š

1. **Type assertions**: ä½¿ç”¨ `(this as any)` æ¥è®¿é—®stateå±æ€§
2. **Function typing**: åœ¨getterä¸­æ˜ç¡®æŒ‡å®šå‚æ•°ç±»å‹
3. **Store typing**: åœ¨`menu.ts`ä¸­å¯¹defineStoreä½¿ç”¨ç±»å‹æ–­è¨€

è¿™äº›ç±»å‹æ–­è¨€ä¸å½±å“è¿è¡Œæ—¶åŠŸèƒ½ï¼Œåªæ˜¯ä¸ºäº†ç»•è¿‡TypeScriptçš„ç±»å‹æ£€æŸ¥é™åˆ¶ã€‚

## é¡¹ç›®çŠ¶æ€
- âœ… æ‰€æœ‰5ä¸ªstoreæ–‡ä»¶å·²è½¬æ¢å®Œæˆ
- âœ… æ— TypeScriptç¼–è¯‘é”™è¯¯
- âœ… é¡¹ç›®æ„å»ºæˆåŠŸ
- âœ… æ‰€æœ‰åŠŸèƒ½ä¿æŒå®Œæ•´

è½¬æ¢å·¥ä½œå·²å…¨éƒ¨å®Œæˆï¼ğŸ‰
